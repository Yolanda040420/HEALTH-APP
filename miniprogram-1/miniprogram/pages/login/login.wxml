<!-- pages/login/login.wxml -->
<view class="login-page">
  <view class="login-container">
    <!-- Logo 或标题 -->
    <view class="login-header">
      <image class="logo" src="/images/tabbar/mine.png" mode="aspectFit"></image>
      <text class="app-name">水木用餐助手</text>
    </view>

    <!-- 登录/注册表单 -->
    <view class="login-content">
      <!-- 模式切换按钮 -->
      <view class="mode-tabs">
        <view class="mode-tab {{mode === 'login' ? 'active' : ''}}" 
              data-mode="login"
              bindtap="onModeChange">
          <text>登录</text>
        </view>
        <view class="mode-tab {{mode === 'register' ? 'active' : ''}}" 
              data-mode="register"
              bindtap="onModeChange">
          <text>注册</text>
        </view>
      </view>

      <!-- 表单区域 -->
      <view class="form-container">
        <view class="form-item">
          <text class="form-label">账号</text>
          <input class="form-input" 
                 type="text" 
                 placeholder="请输入账号"
                 value="{{username}}"
                 bindinput="onUsernameInput"
                 maxlength="20"/>
        </view>

        <view class="form-item">
          <text class="form-label">密码</text>
          <input class="form-input" 
                 type="password" 
                 placeholder="请输入密码"
                 value="{{password}}"
                 bindinput="onPasswordInput"
                 password="{{true}}"
                 maxlength="20"/>
        </view>

        <view class="form-item" wx:if="{{mode === 'register'}}">
          <text class="form-label">确认密码</text>
          <input class="form-input" 
                 type="password" 
                 placeholder="请再次输入密码"
                 value="{{confirmPassword}}"
                 bindinput="onConfirmPasswordInput"
                 password="{{true}}"
                 maxlength="20"/>
        </view>

        <!-- 提交按钮 -->
        <button class="submit-btn" bindtap="onSubmit">
          <text class="submit-btn-text">{{mode === 'login' ? '登录' : '注册'}}</text>
        </button>
      </view>
    </view>
  </view>
</view>
